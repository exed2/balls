<Window x:Class="ModernExecutor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ModernExecutor"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="Modern Executor" 
        Height="700" 
        Width="1200"
        WindowStyle="None"
        ResizeMode="CanResize"
        Background="#121212"
        BorderBrush="#333333"
        BorderThickness="1"
        AllowsTransparency="True">

    <Window.Resources>
        <Color x:Key="PrimaryColor">#FFFFFF</Color>
        <Color x:Key="SecondaryColor">#AAAAAA</Color>
        <Color x:Key="AccentColor">#3C91E6</Color>
        <Color x:Key="BackgroundColor">#121212</Color>
        <Color x:Key="BackgroundLightColor">#1E1E1E</Color>
        <Color x:Key="BackgroundHighlightColor">#252525</Color>
        <Color x:Key="BorderColor">#333333</Color>
        <Color x:Key="SuccessColor">#4CAF50</Color>
        <Color x:Key="ErrorColor">#F44336</Color>
        <Color x:Key="WarningColor">#FFC107</Color>
        
        <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource PrimaryColor}"/>
        <SolidColorBrush x:Key="SecondaryBrush" Color="{StaticResource SecondaryColor}"/>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="BackgroundBrush" Color="{StaticResource BackgroundColor}"/>
        <SolidColorBrush x:Key="BackgroundLightBrush" Color="{StaticResource BackgroundLightColor}"/>
        <SolidColorBrush x:Key="BackgroundHighlightBrush" Color="{StaticResource BackgroundHighlightColor}"/>
        <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}"/>
        <SolidColorBrush x:Key="SuccessBrush" Color="{StaticResource SuccessColor}"/>
        <SolidColorBrush x:Key="ErrorBrush" Color="{StaticResource ErrorColor}"/>
        <SolidColorBrush x:Key="WarningBrush" Color="{StaticResource WarningColor}"/>

        <Style x:Key="ButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="{StaticResource BackgroundHighlightBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource BorderBrush}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="TabButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryBrush}"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="NavButtonStyle" TargetType="{x:Type RadioButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryBrush}"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RadioButton}">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}">
                            <Grid>
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <Border x:Name="indicator" Width="3" Height="20" 
                                        Background="{StaticResource AccentBrush}" 
                                        HorizontalAlignment="Left" 
                                        Margin="-15,0,0,0"
                                        Visibility="Collapsed"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                                <Setter TargetName="indicator" Property="Visibility" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ScriptTabStyle" TargetType="{x:Type RadioButton}">
            <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1,1,1,0"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RadioButton}">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4,4,0,0"
                                Padding="{TemplateBinding Padding}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                <Button x:Name="closeButton" 
                                        Grid.Column="1" 
                                        Width="16" Height="16" 
                                        Margin="5,0,0,0"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Click="CloseTab_Click">
                                    <Path Data="M 0,0 L 8,8 M 8,0 L 0,8" 
                                          Stroke="{StaticResource SecondaryBrush}" 
                                          StrokeThickness="1.5" 
                                          VerticalAlignment="Center" 
                                          HorizontalAlignment="Center"/>
                                </Button>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Background" Value="{StaticResource BackgroundLightBrush}"/>
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                                <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="{StaticResource BackgroundBrush}" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" 
                           Text="MODERN EXECUTOR" 
                           Foreground="{StaticResource PrimaryBrush}" 
                           FontWeight="SemiBold" 
                           Margin="10,0,0,0" 
                           VerticalAlignment="Center"/>
                
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button x:Name="MinimizeButton" 
                            Width="46" Height="30" 
                            Background="Transparent"
                            BorderThickness="0"
                            Click="MinimizeButton_Click">
                        <Rectangle Width="10" Height="1" Fill="{StaticResource PrimaryBrush}"/>
                    </Button>
                    
                    <Button x:Name="MaximizeButton" 
                            Width="46" Height="30" 
                            Background="Transparent"
                            BorderThickness="0"
                            Click="MaximizeButton_Click">
                        <Rectangle Width="10" Height="10" Stroke="{StaticResource PrimaryBrush}" StrokeThickness="1" Fill="Transparent"/>
                    </Button>
                    
                    <Button x:Name="CloseButton" 
                            Width="46" Height="30" 
                            Background="Transparent"
                            BorderThickness="0"
                            Click="CloseButton_Click">
                        <Grid Width="10" Height="10">
                            <Line X1="0" Y1="0" X2="10" Y2="10" Stroke="{StaticResource PrimaryBrush}" StrokeThickness="1"/>
                            <Line X1="0" Y1="10" X2="10" Y2="0" Stroke="{StaticResource PrimaryBrush}" StrokeThickness="1"/>
                        </Grid>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,1,0">
                <StackPanel>
                    <RadioButton x:Name="HomeButton" 
                                 Style="{StaticResource NavButtonStyle}" 
                                 IsChecked="True"
                                 Checked="Navigation_Checked">
                        <StackPanel>
                            <TextBlock Text="&#xE80F;" 
                                       FontFamily="Segoe MDL2 Assets" 
                                       FontSize="18" 
                                       HorizontalAlignment="Center"/>
                            <TextBlock Text="Home" 
                                       FontSize="10" 
                                       Margin="0,2,0,0" 
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>
                    
                    <RadioButton x:Name="ExecuteButton" 
                                 Style="{StaticResource NavButtonStyle}"
                                 Checked="Navigation_Checked">
                        <StackPanel>
                            <TextBlock Text="&#xE8E5;" 
                                       FontFamily="Segoe MDL2 Assets" 
                                       FontSize="18" 
                                       HorizontalAlignment="Center"/>
                            <TextBlock Text="Execute" 
                                       FontSize="10" 
                                       Margin="0,2,0,0" 
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>
                    
                    <RadioButton x:Name="SettingsButton" 
                                 Style="{StaticResource NavButtonStyle}"
                                 Checked="Navigation_Checked">
                        <StackPanel>
                            <TextBlock Text="&#xE713;" 
                                       FontFamily="Segoe MDL2 Assets" 
                                       FontSize="18" 
                                       HorizontalAlignment="Center"/>
                            <TextBlock Text="Settings" 
                                       FontSize="10" 
                                       Margin="0,2,0,0" 
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>
                </StackPanel>
            </Border>

            <Grid Grid.Column="1">
                <Grid x:Name="HomeContent" Visibility="Visible">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="HOME" 
                               FontSize="24" 
                               FontWeight="SemiBold" 
                               Foreground="{StaticResource PrimaryBrush}" 
                               Margin="20,20,0,15"/>
                    
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="20,0,20,20">
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1" 
                                    CornerRadius="8" 
                                    Padding="20" 
                                    Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="Recent Banwaves" 
                                               FontSize="18" 
                                               FontWeight="SemiBold" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,15"/>
                                    
                                    <Border Background="{StaticResource BackgroundHighlightBrush}" 
                                            BorderBrush="{StaticResource BorderBrush}" 
                                            BorderThickness="1" 
                                            CornerRadius="6" 
                                            Padding="15" 
                                            Margin="0,0,0,10">
                                        <StackPanel>
                                            <TextBlock Text="June 15, 2023" 
                                                       FontWeight="SemiBold" 
                                                       Foreground="{StaticResource WarningBrush}"/>
                                            <TextBlock Text="Roblox has implemented new anti-cheat measures that detect code injection methods. 
                                                       Use caution when executing scripts on popular games."
                                                       Foreground="{StaticResource SecondaryBrush}" 
                                                       TextWrapping="Wrap" 
                                                       Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <Border Background="{StaticResource BackgroundHighlightBrush}" 
                                            BorderBrush="{StaticResource BorderBrush}" 
                                            BorderThickness="1" 
                                            CornerRadius="6" 
                                            Padding="15" 
                                            Margin="0,0,0,10">
                                        <StackPanel>
                                            <TextBlock Text="May 30, 2023" 
                                                       FontWeight="SemiBold" 
                                                       Foreground="{StaticResource WarningBrush}"/>
                                            <TextBlock Text="Multiple accounts were banned in FPS games. We recommend using alt accounts for testing scripts."
                                                       Foreground="{StaticResource SecondaryBrush}" 
                                                       TextWrapping="Wrap" 
                                                       Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                            
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1" 
                                    CornerRadius="8" 
                                    Padding="20" 
                                    Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="Trending Scripts" 
                                               FontSize="18" 
                                               FontWeight="SemiBold" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,15"/>
                                    
                                    <Border Background="{StaticResource BackgroundHighlightBrush}" 
                                            BorderBrush="{StaticResource BorderBrush}" 
                                            BorderThickness="1" 
                                            CornerRadius="6" 
                                            Padding="15" 
                                            Margin="0,0,0,10">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Infinite Yield Admin" 
                                                           FontWeight="SemiBold" 
                                                           Foreground="{StaticResource PrimaryBrush}"/>
                                                <TextBlock Text="Admin commands script that gives you powerful control abilities."
                                                           Foreground="{StaticResource SecondaryBrush}" 
                                                           TextWrapping="Wrap" 
                                                           Margin="0,5,0,0"/>
                                            </StackPanel>
                                            <Button Grid.Column="1" 
                                                    Content="Load" 
                                                    Style="{StaticResource ButtonStyle}" 
                                                    VerticalAlignment="Center" 
                                                    Margin="10,0,0,0"
                                                    Click="LoadScript_Click"
                                                    Tag="InfiniteYield"/>
                                        </Grid>
                                    </Border>
                                    
                                    <Border Background="{StaticResource BackgroundHighlightBrush}" 
                                            BorderBrush="{StaticResource BorderBrush}" 
                                            BorderThickness="1" 
                                            CornerRadius="6" 
                                            Padding="15" 
                                            Margin="0,0,0,10">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="ESP Universal" 
                                                           FontWeight="SemiBold" 
                                                           Foreground="{StaticResource PrimaryBrush}"/>
                                                <TextBlock Text="See players through walls and get useful information about them."
                                                           Foreground="{StaticResource SecondaryBrush}" 
                                                           TextWrapping="Wrap" 
                                                           Margin="0,5,0,0"/>
                                            </StackPanel>
                                            <Button Grid.Column="1" 
                                                    Content="Load" 
                                                    Style="{StaticResource ButtonStyle}" 
                                                    VerticalAlignment="Center" 
                                                    Margin="10,0,0,0"
                                                    Click="LoadScript_Click"
                                                    Tag="ESP"/>
                                        </Grid>
                                    </Border>
                                    
                                    <Border Background="{StaticResource BackgroundHighlightBrush}" 
                                            BorderBrush="{StaticResource BorderBrush}" 
                                            BorderThickness="1" 
                                            CornerRadius="6" 
                                            Padding="15">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Blox Fruits Auto Farm" 
                                                           FontWeight="SemiBold" 
                                                           Foreground="{StaticResource PrimaryBrush}"/>
                                                <TextBlock Text="Automatically farm levels, money and resources in Blox Fruits."
                                                           Foreground="{StaticResource SecondaryBrush}" 
                                                           TextWrapping="Wrap" 
                                                           Margin="0,5,0,0"/>
                                            </StackPanel>
                                            <Button Grid.Column="1" 
                                                    Content="Load" 
                                                    Style="{StaticResource ButtonStyle}" 
                                                    VerticalAlignment="Center" 
                                                    Margin="10,0,0,0"
                                                    Click="LoadScript_Click"
                                                    Tag="BloxFruits"/>
                                        </Grid>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
                
                <Grid x:Name="ExecuteContent" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <ScrollViewer Grid.Column="0" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                            <StackPanel x:Name="TabsPanel" Orientation="Horizontal">
                                <RadioButton Content="New Tab" 
                                             x:Name="DefaultTab"
                                             IsChecked="True"
                                             Style="{StaticResource ScriptTabStyle}"
                                             Margin="5,10,0,0"
                                             Checked="ScriptTab_Checked"/>
                            </StackPanel>
                        </ScrollViewer>
                        
                        <Button Grid.Column="1" 
                                Content="+" 
                                Width="30" Height="30"
                                FontSize="18"
                                FontWeight="Bold" 
                                Background="Transparent"
                                BorderThickness="0"
                                Foreground="{StaticResource PrimaryBrush}"
                                Margin="5,10,5,0"
                                VerticalAlignment="Top"
                                Click="AddTab_Click"/>
                    </Grid>
                    
                    <Grid Grid.Row="1">
                        <Grid x:Name="ScriptEditorContainer" Margin="5,0">
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1">
                                <wv2:WebView2 x:Name="MonacoEditor"/>
                            </Border>
                        </Grid>
                        
                        <Grid x:Name="ScriptExplorer" 
                              Width="250" 
                              HorizontalAlignment="Right" 
                              Visibility="Collapsed">
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1,1,0,1">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <Grid Grid.Row="0" Background="{StaticResource BackgroundHighlightBrush}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <TextBlock Grid.Column="0" 
                                                   Text="Script Explorer" 
                                                   Foreground="{StaticResource PrimaryBrush}" 
                                                   Margin="10,8" 
                                                   VerticalAlignment="Center"/>
                                        
                                        <Button Grid.Column="1" 
                                                Width="30" Height="30" 
                                                Background="Transparent"
                                                BorderThickness="0"
                                                Margin="0,0,5,0"
                                                Click="ToggleScriptExplorer_Click">
                                            <Path Data="M 0,0 L 8,8 M 8,0 L 0,8" 
                                                  Stroke="{StaticResource SecondaryBrush}" 
                                                  StrokeThickness="1.5" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center"/>
                                        </Button>
                                    </Grid>
                                    
                                    <ListView Grid.Row="1" 
                                              x:Name="ScriptsList"
                                              Background="Transparent" 
                                              BorderThickness="0"
                                              Foreground="{StaticResource PrimaryBrush}"
                                              SelectionChanged="ScriptsList_SelectionChanged">
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Name}" Margin="5,2"/>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>
                                </Grid>
                            </Border>
                            
                            <Grid.RenderTransform>
                                <TranslateTransform x:Name="ScriptExplorerTransform" X="250"/>
                            </Grid.RenderTransform>
                        </Grid>
                        
                        <GridSplitter x:Name="ExplorerSplitter" 
                                      HorizontalAlignment="Right" 
                                      Width="5" 
                                      Background="{StaticResource BorderBrush}"
                                      Visibility="Collapsed"/>
                    </Grid>
                    
                    <GridSplitter Grid.Row="2" 
                                  Height="5" 
                                  HorizontalAlignment="Stretch" 
                                  Background="{StaticResource BorderBrush}"/>
                    
                    <Grid Grid.Row="3" Height="150">
                        <Border Background="{StaticResource BackgroundLightBrush}" 
                                BorderBrush="{StaticResource BorderBrush}" 
                                BorderThickness="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <Grid Grid.Row="0" Background="{StaticResource BackgroundHighlightBrush}">
                                    <TextBlock Text="Console" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="10,8" 
                                               VerticalAlignment="Center"/>
                                                                                   <Button Content="Clear" 
                                            Style="{StaticResource ButtonStyle}"
                                            HorizontalAlignment="Right"
                                            Margin="0,3,10,3"
                                            Padding="10,3"
                                            Click="ClearConsole_Click"/>
                                </Grid>
                                
                                <ScrollViewer Grid.Row="1" 
                                              x:Name="ConsoleScroller"
                                              VerticalScrollBarVisibility="Auto">
                                    <RichTextBox x:Name="ConsoleOutput" 
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 Foreground="{StaticResource PrimaryBrush}"
                                                 IsReadOnly="True"
                                                 Padding="10">
                                        <RichTextBox.Resources>
                                            <Style TargetType="{x:Type Paragraph}">
                                                <Setter Property="Margin" Value="0"/>
                                            </Style>
                                        </RichTextBox.Resources>
                                    </RichTextBox>
                                </ScrollViewer>
                            </Grid>
                        </Border>
                    </Grid>
                    
                    <StackPanel Grid.Row="3" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Top" 
                                Margin="0,-40,10,0">
                        <Button Content="Inject" 
                                Style="{StaticResource ButtonStyle}"
                                Margin="0,0,10,0"
                                Click="Inject_Click"/>
                        
                        <Button Content="Execute" 
                                Style="{StaticResource ButtonStyle}"
                                Margin="0,0,10,0"
                                Click="Execute_Click"/>
                        
                        <Button Content="Clear" 
                                Style="{StaticResource ButtonStyle}"
                                Click="ClearEditor_Click"/>
                                
                        <Button Content="Explorer" 
                                Style="{StaticResource ButtonStyle}"
                                Margin="10,0,0,0"
                                Click="ToggleScriptExplorer_Click"/>
                    </StackPanel>
                </Grid>
                
                <Grid x:Name="SettingsContent" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="SETTINGS" 
                               FontSize="24" 
                               FontWeight="SemiBold" 
                               Foreground="{StaticResource PrimaryBrush}" 
                               Margin="20,20,0,15"/>
                    
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="20,0,20,20">
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1" 
                                    CornerRadius="8" 
                                    Padding="20" 
                                    Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="Execution" 
                                               FontSize="18" 
                                               FontWeight="SemiBold" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,15"/>
                                    
                                    <CheckBox x:Name="AutoInjectCheckBox" 
                                              Content="Auto-Inject on Launch" 
                                              Foreground="{StaticResource PrimaryBrush}" 
                                              Margin="0,0,0,10"
                                              IsChecked="False"/>
                                    
                                    <CheckBox x:Name="TopMostCheckBox" 
                                              Content="Keep Window on Top" 
                                              Foreground="{StaticResource PrimaryBrush}" 
                                              Margin="0,0,0,10"
                                              IsChecked="False"
                                              Checked="TopMost_CheckedChanged"
                                              Unchecked="TopMost_CheckedChanged"/>
                                    
                                    <CheckBox x:Name="AutoSaveCheckBox" 
                                              Content="Auto-Save Scripts" 
                                              Foreground="{StaticResource PrimaryBrush}" 
                                              Margin="0,0,0,10"
                                              IsChecked="True"/>
                                </StackPanel>
                            </Border>
                            
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1" 
                                    CornerRadius="8" 
                                    Padding="20" 
                                    Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="Appearance" 
                                               FontSize="18" 
                                               FontWeight="SemiBold" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,15"/>
                                    
                                    <TextBlock Text="Editor Font Size" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,5"/>
                                    <Slider x:Name="FontSizeSlider" 
                                            Minimum="10" 
                                            Maximum="20" 
                                            Value="13" 
                                            IsSnapToTickEnabled="True" 
                                            TickFrequency="1" 
                                            Width="300" 
                                            HorizontalAlignment="Left" 
                                            Margin="0,0,0,15"
                                            ValueChanged="FontSize_ValueChanged"/>
                                    
                                    <TextBlock Text="Window Opacity" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,5"/>
                                    <Slider x:Name="OpacitySlider" 
                                            Minimum="0.5" 
                                            Maximum="1" 
                                            Value="1" 
                                            Width="300" 
                                            HorizontalAlignment="Left" 
                                            Margin="0,0,0,15"
                                            ValueChanged="Opacity_ValueChanged"/>
                                    
                                    <TextBlock Text="Editor Theme" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,5"/>
                                    <ComboBox x:Name="ThemeComboBox" 
                                              Width="300" 
                                              HorizontalAlignment="Left" 
                                              Margin="0,0,0,10"
                                              SelectionChanged="Theme_SelectionChanged">
                                        <ComboBoxItem Content="Dark (Default)" IsSelected="True"/>
                                        <ComboBoxItem Content="Light"/>
                                        <ComboBoxItem Content="High Contrast"/>
                                    </ComboBox>
                                </StackPanel>
                            </Border>
                            
                            <Border Background="{StaticResource BackgroundLightBrush}" 
                                    BorderBrush="{StaticResource BorderBrush}" 
                                    BorderThickness="1" 
                                    CornerRadius="8" 
                                    Padding="20">
                                <StackPanel>
                                    <TextBlock Text="About" 
                                               FontSize="18" 
                                               FontWeight="SemiBold" 
                                               Foreground="{StaticResource PrimaryBrush}" 
                                               Margin="0,0,0,15"/>
                                    
                                    <TextBlock Text="Modern Executor v1.0.0" 
                                               Foreground="{StaticResource PrimaryBrush}"/>
                                    <TextBlock Text="© 2023 Modern Executor Team" 
                                               Foreground="{StaticResource SecondaryBrush}" 
                                               Margin="0,5,0,10"/>
                                    
                                    <Button Content="Check for Updates" 
                                            Style="{StaticResource ButtonStyle}" 
                                            HorizontalAlignment="Left" 
                                            Margin="0,10,0,0"
                                            Click="CheckForUpdates_Click"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>
